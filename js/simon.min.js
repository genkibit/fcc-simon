(function(){function w(a,c){z[a].classList.toggle("effect-01");window.setTimeout(function(){z[a].classList.toggle("effect-01")},c)}function x(a,c,d){this.context=a;this.urlList=c;this.onload=d;this.bufferList=[];this.loadCount=0}function p(a){var c;""!==a.canPlayType("audio/mp3")?c=".mp3":""!==a.canPlayType("audio/ogg")&&(c=".ogg");return c}function C(a){f["0"]=a[0];f["1"]=a[3];f["2"]=a[2];f["3"]=a[1];f.x=a[4]}function y(a){var c=q.createGain(),d=q.createBufferSource();d.buffer=f[a];d.connect(c);
c.connect(q.destination);c.gain.value=.05;d.start(0)}function t(){D.text(h[b]);k=!1;u=!0;e.val(g);y(h[b]);w(h[b],300);b+1===g?(b=0,k=!0,u=!1):b++;!0===u&&!0===m&&(A=window.setTimeout(t,v))}var E=$(".pad"),z=$(".effect"),F=$(".panel"),e=$("#count"),h="01230123012301230123".split(""),b=0,g=1,v=1E3,A,u=!1,k=!1,m=!1,n=!1,l=!0,r=document.getElementById("sound-effects"),f={},q,B,D=$("#display");x.prototype.loadBuffer=function(a,c){var d=this,b=new XMLHttpRequest;b.open("GET",a,!0);b.responseType="arraybuffer";
b.onload=function(){d.context.decodeAudioData(b.response,function(b){if(b){if(d.bufferList[c]=b,++d.loadCount==d.urlList.length)d.onload(d.bufferList)}else alert("error decoding file data: "+a)},function(a){console.error("decodeAudioData error",a)})};b.onerror=function(){alert("BufferLoader: XHR error")};b.send()};x.prototype.load=function(){for(var a=0;a<this.urlList.length;++a)this.loadBuffer(this.urlList[a],a)};E.each(function(){$(this).on("click",function(){if(!0===k&&!0===m){var a=$(this).val();
if(h[b]===a&&!1===l)if(y(a),w(a,300),b++,20===g&&b===g)e.val("You Win!"),l=!0,k=!1;else{if(b===g){b=0;k=!1;g++;switch(g){case 5:v=800;break;case 9:v=600;break;case 13:v=400}window.setTimeout(t,1500)}}else y("x"),w(a,2E3),k=!1,!0===n?(e.val("!!"),l=!0):(e.val("Try Again"),b=0,window.setTimeout(t,2500))}})});F.each(function(){$(this).on("click",function(){var a=$(this).val();if("power"===a)if(m=!m,!0===m){window.AudioContext=window.AudioContext||window.webkitAudioContext;q=new AudioContext;var c=["https://dl.dropboxusercontent.com/u/3810405/freecodecamp/simon/sf/green"+
p(r),"https://dl.dropboxusercontent.com/u/3810405/freecodecamp/simon/sf/red"+p(r),"https://dl.dropboxusercontent.com/u/3810405/freecodecamp/simon/sf/yellow"+p(r),"https://dl.dropboxusercontent.com/u/3810405/freecodecamp/simon/sf/blue"+p(r),"https://dl.dropboxusercontent.com/u/3810405/freecodecamp/simon/sf/wrong"+p(r)];B=new x(q,c,C);B.load();n=!1;l=!0;e.val("- -")}else window.clearTimeout(A),u=!1,l=!0,e.val("");if(!0===m&&!0===l)if("start"===a){for(var a=h,d,f,c=a.length-1;0<c;c--)d=Math.floor(Math.random()*
(c+1)),f=a[c],a[c]=a[d],a[d]=f;h=a;console.log(h);b=0;k=!1;n=n||!1;e.val("- -");l=!1;g=1;t()}else"mode"===a&&((n=!n)?e.val("strict"):e.val("easy"))})});e.val("");$(document).ready($("body").animate({opacity:1},1500))})();
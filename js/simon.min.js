!function(){"use strict";function t(t,e){g[t].classList.toggle("effect-01"),window.setTimeout(function(){g[t].classList.toggle("effect-01")},e)}function e(t,e,o){this.context=t,this.urlList=e,this.onload=o,this.bufferList=[],this.loadCount=0}function o(t){var e;return""!==t.canPlayType("audio/mp3")?e=".mp3":""!==t.canPlayType("audio/ogg")&&(e=".ogg"),e}function n(t){R[0]=t[0],R[1]=t[3],R[2]=t[2],R[3]=t[1],R.x=t[4]}function i(){window.AudioContext=window.AudioContext||window.webkitAudioContext,w=new AudioContext;var t=[E+o(M),H+o(M),G+o(M),D+o(M),P+o(M)];v=new e(w,t,n),v.load()}function a(t){var e=w.createGain(),o=w.createBufferSource();o.buffer=R[t],o.connect(e),e.connect(w.destination),e.gain.value=.05,o.start(0)}function s(t){var e,o,n;for(e=t.length-1;e>0;e--)o=Math.floor(Math.random()*(e+1)),n=t[e],t[e]=t[o],t[o]=n;return t}function r(){A=!1,x=!0,y.val(b),a(m[L]),t(m[L],300),L+1===b?(L=0,A=!0,x=!1):L++,x===!0&&C===!0&&(l=window.setTimeout(r,T))}function u(){m=s(m),L=0,A=!1,k=k||!1,y.val("- -")}function c(){u(),B=!1,b=1,r()}function f(){C=!C,C===!0?(i(),k=!1,B=!0,y.val("- -")):(window.clearTimeout(l),x=!1,B=!0,y.val(""))}function d(e){if(m[L]===e&&B===!1){if(a(e),t(e,300),L++,20===b&&L===b)y.val("You Win!"),B=!0,A=!1;else if(L===b){switch(L=0,A=!1,b++,b){case 5:T=800;break;case 9:T=600;break;case 13:T=400}window.setTimeout(r,1500)}}else a("x"),t(e,2e3),A=!1,k===!0?(y.val("!!"),B=!0):(y.val("Try Again"),L=0,window.setTimeout(r,2500))}var l,w,v,h=$(".pad"),g=$(".effect"),p=$(".panel"),y=$("#count"),m=["0","1","2","3","0","1","2","3","0","1","2","3","0","1","2","3","0","1","2","3"],L=0,b=1,T=1e3,x=!1,A=!1,C=!1,k=!1,B=!0,M=document.getElementById("sound-effects"),D="../assets/sound/blue",E="../assets/sound/green",G="../assets/sound/yellow",H="../assets/sound/red",P="../assets/sound/wrong",R={};e.prototype={loadBuffer:function(t,e){var o=this,n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(){o.context.decodeAudioData(n.response,function(n){return n?(o.bufferList[e]=n,void(++o.loadCount==o.urlList.length&&o.onload(o.bufferList))):void alert("error decoding file data: "+t)},function(t){console.error("decodeAudioData error",t)})},n.onerror=function(){alert("BufferLoader: XHR error")},n.send()},load:function(){for(var t=0;t<this.urlList.length;++t)this.loadBuffer(this.urlList[t],t)}},h.each(function(){$(this).on("click",function(){A===!0&&C===!0&&d($(this).val())})}),p.each(function(){$(this).on("click",function(){var t=$(this).val();if("power"===t&&f(),C===!0&&B===!0)if("start"===t)c();else{if("mode"!==t)return;k=!k,k?y.val("strict"):y.val("easy")}})}),y.val(""),$(document).ready($("body").animate({opacity:1},1500))}();